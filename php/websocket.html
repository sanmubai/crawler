<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <button onclick="sendMsg()">发送消息</button>
<script>
    //创建一个socket实例
    var socket = new WebSocket('ws://127.0.0.1:9090');

    //打开socket
    socket.onopen = function (e) {
        //发送一个初始化消息
        socket.send('init msg');
    };

    socket.onmessage = function(e){
        console.log('收到消息',e);
    };

    //监听socket的关闭
    socket.onclose = function(e){
        console.log('关闭',e);
    };

    //自定义按钮事件
    function sendMsg(){
        socket.send('hello server');
    }
</script>
</body>
</html>